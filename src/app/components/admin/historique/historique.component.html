<div class="row">
    <div class="col">
        <h1 style="margin : 15px">Menu des historiques</h1>
    </div>
</div>

<hr>

<div class="row">
    <div class="col">
        <h3 style="margin-bottom : 20px">
            Ajouter/Modifier
        </h3>
    </div>
</div>

<form (ngSubmit)="inserer()" class="form-inline">
    <div class="form-group">
    <label for="date">Date :</label>
    <input type="datetime-local" name="date" [(ngModel)]="historiqueFormulaire.date">
    </div>

    <div class="form-group">
    <label for="commentaire">Commentaire :</label>
    <input type="text" name="commentaire" [(ngModel)]="historiqueFormulaire.commentaire">
    </div>

    <div class="form-group">
    <label for="idpersonne">Personne :</label>
    <select name="idpersonne" [(ngModel)]="idpersonne">
        <option *ngFor="let personne of personnes" value="{{personne.id}}">{{personne.nom}} {{personne.prenom}}</option>
    </select>
    </div>

    <div class="form-group">
    <label for="idcommercial">Commercial :</label>
    <select name="idcommercial" [(ngModel)]="idcommercial">
        <option *ngFor="let commercial of commercials" value="{{commercial.id}}">{{commercial.nom}} {{commercial.prenom}}</option>
    </select>
    </div>

<button type="submit">Ajouter/Modifier</button>
</form>


<table class="table table-striped table-bordered text-center">
    <thead class="thead-light">
    <tr>
        <td scope="col">Id</td>
        <td scope="col">Date</td>
        <td scope="col">Commentaire</td>
        <td scope="col">Personne</td>
        <td scope="col">Commercial</td>
        <td scope="col">Modifier</td>
        <td scope="col">Supprimer</td>

    </tr>
    </thead>
    <tr *ngFor="let historique of historiques">
        
        <td>{{historique.id}}</td>
        <td>{{historique.date | date:'dd/MM/yyyy,HH:mm'}}</td>
        <td>{{historique.commentaire }}</td>
        <td> {{historique.personne.nom}} {{historique.personne.prenom}}</td>
        <td> {{historique.commercial.nom}} {{historique.commercial.prenom}}</td>
        <td><button class="btn btn-warning" (click)="modifier(historique.id)">Modifier</button></td>
        <td><button class="btn btn-danger" (click)="enlever(historique.id)">Supprimer</button></td>
       
    
    </tr>

</table>